# 选择结构

在此前的章节中，我们编写的代码更像是一份“流水账”——无论发生什么，程序都只能呆板地从第一行执行到最后一行。但在现实世界的逻辑中，我们往往需要根据不同的情况采取不同的行动。

**选择结构（Selection Structure）** 就是为了解决这个问题而生的。它赋予了程序“判断”的能力，让代码不再只是盲目地执行指令，而是学会了根据条件说“如果……那么……”。从这一章开始，你的程序将不再是一条单行道，而是拥有了逻辑的分岔口，这才是程序设计真正变得有趣的开始。

## 1. if语句

if()是作为选择结构的重要标志，只有满足特定的条件，才会放行执行后面的操作。

### 1.1 if语句的三种基础表达形式

#### 1.1.1单分支if

if语句的语法形式如下：

```C
if(表达式)
    <语句>
```

![img](https://gcn59lcrd80x.feishu.cn/space/api/box/stream/download/asynccode/?code=YzM4ODQzMjMzMWQ4ZjY0ZTJhYzk3Yjc3MzMyOWNlMmJfcEV1MlVVa1lobkVBSFhETloxS2RITXF4eklPeHplYnNfVG9rZW46QVY2V2I1aVlKb1hzQmZ4eUhjRGMxTDFKbjNiXzE3Njk1NzU3NDE6MTc2OTU3OTM0MV9WNA)

**执行流程：** 计算机在遇到 `if` 时，首先会计算圆括号内 `表达式` 的值：

- **如果表达式成立（为真）**：程序执行紧跟其后的 `语句`，执行完毕后继续向下运行。
- **如果表达式不成立（为假）**：程序会直接跳过这条 `语句`，忽略它并继续执行 `if` 结构之后的代码。

**这里有两个关键点需要注意：**

-  在C语言中，0为假，非0表示真，也就是表达式的结果如果是0，则语句不执行，表达式的结果如果不是0，则语句执行。
- 一般情况，如果if后的语句只有一条， 不需要使用{}；如果if后的语句是复合语句(即语句组)，那么需要用{}括起。（在此建议无论有几条语句都使用{}括起，这样形式更美观。）

例1：输入一个整数，判断是否为奇数。

```C
//输入一个整数，判断是否为奇数
```

代码部分，记得写一些注释，然后在代码下面进行解释

这里也要一个流程图，毕竟刚接触if

#### 1.1.2双分支if...else...

在使用单纯的 `if` 语句时，我们只能指定“条件成立时做什么”，一旦条件不成立（结果为 0），程序就会直接跳过。

如果我们需要在条件**不成立**时执行另一套操作，再写一个相反的 `if` 语句去判断不仅繁琐，而且执行效率低。C 语言为此提供了 `else`**（否则）** 关键字。当 `if` 的条件判定为假时，程序会自动执行 `else` 分支中的代码，从而形成一个完整的“非此即彼”的逻辑闭环。

对于任意一个整数，为了更清楚地表示是奇数还是偶数，这里我们就需要使用if…else…语句了，语句形式如下：

```C++
if（表达式)
    <语句1>
else
    <语句2>
```

流程图

如果表达式为真（true），则执行语句 <语句1>，然后执行if语句后的其他语句； 如果表达式非真（false），则执行语句 <语句2>，然后执行if语句后的其他语句。

例2：输入一个整数，判断是否为奇数，如果是奇数，打印奇数；如果是偶数，打印偶数。

```C++

```

例3：输入一个非零整数，判断是正数还是负数，并输出对应结果。

```C++

```

#### 1.1.3 多分支if...else,if...else

```C++
// 基础结构
if (条件表达式1) {
    // 条件1为true时执行的语句块
} else if (条件表达式2) {
    // 条件1为false、条件2为true时执行的语句块
} else if (条件表达式3) {
    // 条件1/2为false、条件3为true时执行的语句块
} 
// 可继续追加N个else if分支
else {
    // 所有条件均为false时的兜底语句块（else可选，省略则无匹配时跳过所有分支）
}
```

从上到下顺序匹配条件，匹配首为真的条件后执行对应if块，后续所有分支直接跳过；所有条件均为假时执行else块；else可省略，省略后无匹配条件则跳过所有分支

### 1.2嵌套if

这块用例子引出嵌套结构

#### 1.2.1基础型（外层单分支 → 内层单分支）

```C++

```

#### 1.2.2通用型（外层双分支 → 内层双/多分支）

```C++

```

#### 1.2.3多层嵌套（最多建议3层）

我们接着看下面这道题

写一下判断一年是否为闰年的题干，提示一下是否为闰年的条件

```C


```

默认if和else语句都只控制一条语句，例如：

```C++
 #include <stdio.h>
 int main()
 {   
     int age;
     scanf("%d",&a);
     if(a>=18)
         printf ("成年")；
         printf ("可以谈恋爱了")；
     return 0;
 }
```

上面这段代码，输出后你会发现，不论if语句为真还是为假,“可以谈恋爱了”都会打印在屏幕上。这是因为if语句只能控制一条语句，就是printf("成年")，对于printf("可以谈恋爱了")，是独立在的，不论if为真还是为假，都会执行。面对这样的情况，我们该怎们办呢？我们就要使用{}。

```C++
 #include <stdio.h>
 int main()
 {   
     int age;
     scanf("%d",&a);
     if(a>=18) {
         printf ("成年")；
         printf ("可以谈恋爱了")；
         }
     return 0;
 }
```

else悬空问题（该内容为if嵌套下设易错点）

```C++

```

## 2. 关系运算符

在上一节的代码中，我们使用了 `age >= 18` 这样的写法。这里的 `>=` 就是一种**关系运算符**。 顾名思义，“关系运算”就是让计算机对两个值进行“比大小”。它通过比较两个数据之间的关系，给出一个明确的判断结果：**真（成立）** 或者 **假（不成立）**。

C 语言提供了以下 6 种关系运算符：

| <    | 小于     |
| ---- | -------- |
| >    | 大于     |
| <=   | 小于等于 |
| >=   | 大于等于 |
| ==   | 等于     |
| !=   | 不等于   |

注意：

**C 语言中，判断“相等”使用的是两个等号** `==`**。**

- `a == b`：是在**询问**“a 和 b 相等吗？”（这是判断）
- `a = b`：是在**命令**“把 b 的值给 a”（这是赋值）

如果你在 `if` 条件里错把 `==` 写成了 `=`，编译器通常不会报错，但程序逻辑会完全乱套

这6种关系运算符却不是完全同一级别的，在`1 == 3 > 2`这个表达式中返回的是真，原因是计算机会先计算`3 > 2`，返回了1（true），而`1 == 1`会依旧返回真，所以逻辑上`1 == 3 > 2`和`1 == (3 > 2)`是相同的，在我们日常练习中，应尽量使用这种`1 == (3 > 2)`明确指出运算顺序的形式，减少可能出现的错误

代码自己设计一道例题吧，或者问问ai，关于关系运算符的

## 3. 条件运算符

## 4. 逻辑运算符

### 4.1逻辑取反运算符！

### 4.2逻辑与运算符

```
这里优化之前的判断闰年的例子
```

### 4.3逻辑或运算符

## 5. switch语句